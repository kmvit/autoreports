# Структура проекта Construction Report Bot

```
construction_report_bot/
├── alembic/                    # Миграции базы данных
│   ├── versions/               # Файлы миграций
│   ├── env.py                 # Конфигурация окружения Alembic
│   └── script.py.mako         # Шаблон для генерации миграций
│
├── handlers/                   # Обработчики команд и callback-запросов
│   ├── admin/                 # Обработчики для администраторов
│   │   ├── __init__.py       # Инициализация и регистрация админ-обработчиков
│   │   ├── client.py         # Управление клиентами
│   │   └── report.py         # Управление отчетами
│   │
│   ├── client/               # Обработчики для клиентов
│   │   ├── __init__.py      # Инициализация и регистрация клиент-обработчиков
│   │   ├── auth.py          # Аутентификация и авторизация
│   │   ├── object.py        # Работа с объектами
│   │   ├── report.py        # Создание и управление отчетами
│   │   └── settings.py      # Настройки профиля
│   │
│   ├── common/              # Общие обработчики
│   │   ├── __init__.py     # Инициализация общих обработчиков
│   │   ├── start.py        # Обработка команды /start
│   │   └── help.py         # Обработка команды /help
│   │
│   └── __init__.py         # Инициализация всех обработчиков
│
├── middlewares/             # Middleware компоненты
│   ├── __init__.py         # Инициализация middleware
│   ├── auth.py             # Аутентификация и авторизация
│   ├── logging.py          # Логирование
│   └── rate_limit.py       # Ограничение частоты запросов
│
├── database/               # Работа с базой данных
│   ├── __init__.py        # Инициализация базы данных
│   ├── models.py          # Модели SQLAlchemy
│   ├── crud.py            # CRUD операции
│   └── session.py         # Управление сессиями БД
│
├── utils/                 # Вспомогательные утилиты
│   ├── __init__.py       # Инициализация утилит
│   ├── decorators.py     # Декораторы (обработка ошибок, валидация)
│   ├── validators.py     # Валидация данных
│   └── report_utils.py   # Утилиты для работы с отчетами
│
├── config/               # Конфигурация
│   ├── __init__.py      # Инициализация конфигурации
│   ├── settings.py      # Настройки приложения
│   └── keyboards.py     # Клавиатуры бота
│
├── services/            # Бизнес-логика
│   ├── __init__.py     # Инициализация сервисов
│   ├── auth.py         # Сервис аутентификации
│   └── report.py       # Сервис работы с отчетами
│
├── .env                # Переменные окружения
├── .env.example        # Пример файла с переменными окружения
├── .gitignore         # Игнорируемые Git файлы
├── alembic.ini        # Конфигурация Alembic
├── bot.py             # Точка входа в приложение
├── requirements.txt   # Зависимости проекта
└── README.md         # Документация проекта
```

## Описание основных компонентов

### Обработчики (handlers)
- **admin/** - Обработчики для администраторов (управление клиентами, отчетами)
- **client/** - Обработчики для клиентов (аутентификация, работа с объектами и отчетами)
- **common/** - Общие обработчики (команды /start, /help)

### Middleware
- **auth.py** - Проверка аутентификации и авторизации
- **logging.py** - Логирование действий пользователей
- **rate_limit.py** - Ограничение частоты запросов

### База данных (database)
- **models.py** - Модели SQLAlchemy
- **crud.py** - Операции с базой данных
- **session.py** - Управление сессиями

### Утилиты (utils)
- **decorators.py** - Декораторы для обработки ошибок и валидации
- **validators.py** - Функции валидации данных
- **report_utils.py** - Утилиты для работы с отчетами

### Конфигурация (config)
- **settings.py** - Настройки приложения
- **keyboards.py** - Клавиатуры бота

### Сервисы (services)
- **auth.py** - Бизнес-логика аутентификации
- **report.py** - Бизнес-логика работы с отчетами 